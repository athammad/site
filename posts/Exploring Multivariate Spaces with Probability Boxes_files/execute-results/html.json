{
  "hash": "6e15e18866655ccf0b6c2038bfc6a4e8",
  "result": {
    "markdown": "---\ntitle: \"pbox: Exploring Multivariate Spaces with Probability Boxes\"\nimage: ../gallery/pboxIcon.png\ncode-fold: false\nexecute:\n  eval: true\nfontsize: 1.5em\n---\n\n\n::: justify\nIn a previuous post I introduced the idea of a [‚Äúprobability box.‚Äù](https://athsas.com/posts/Probability%20Box%20with%20Kernel%20Density%20Estimation.html) Well, after After several intense months of hard work, I am thrilled to announce that my idea has been transformed into a fully functional R library, now available on **CRAN** for everyone interested in answering probabilistic questions!\n\nüåü Introducing **pbox!** üåü an advanced statistical library offering a method to encapsulate and query the probability space of a dataset effortlessly using Probability Boxes (p-boxes). Its distinctive feature lies in the ease with which users can navigate and analyze marginal, joint, and conditional probabilities while taking into account the underlying correlation structure inherent in the data using copula theory and models. **pbox** can be utilized across various fields, including such as Environmental Analysis, Finance Risk Assessment and Management and more!\n\nThis is just the beginning. In future releases, I plan to add additional functionalities to enhance **pbox** even further. Your feedback and suggestions are invaluable to me. If you have any ideas or requests, please feel free to drop me a message or write it in an issue on the [project's repository](https://github.com/athammad/pbox).\n\nHere is a little demo to showcase what can be achieved with few lines of code!\n\nRemember to first install the packaged from **CRAN**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"pbox\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(pbox)\n\ndata(\"SEAex\", package = \"pbox\")\n```\n:::\n\n\n# Create PBOX Object\n\nWe create a `pbox` object from the `SEAex` dataset using the `set_pbox` function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set pbox\npbx <- set_pbox(SEAex)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nAll features are continuous.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\npbox object generated!\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(pbx)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nProbabilistic Box Object of class pbox\n\n||--General Overview--||\n----------------\n1)Data Structure\nNumber of Rows:  122 \nNumber of Columns:  4 \n\n1.1)Variable Statistics:\n         var   min   max     mean median\n      <char> <num> <num>    <num>  <num>\n1:  Malaysia 30.50 32.30 31.24344  31.20\n2:  Thailand 33.20 37.30 35.10656  35.10\n3:   Vietnam 30.90 32.90 31.63934  31.60\n4: avgRegion 25.21 26.66 25.78951  25.73\n\n----------------\n2)Copula Summary:\nType: ellipCopula \nNormal copula, dim. d = 4 \nDimension:  4 \nParameters:\n  rho.1   = 0.4922978\ndispstr:  ex \n\n2.1)Copula margins:\n[1] \"RG\"  \"SN1\" \"RG\"  \"RG\" \n2.1)Kendall correlation:\n           Malaysia  Thailand   Vietnam avgRegion\nMalaysia  1.0000000 0.1755378 0.3864290 0.5751234\nThailand  0.1755378 1.0000000 0.2246915 0.2472509\nVietnam   0.3864290 0.2246915 1.0000000 0.4424894\navgRegion 0.5751234 0.2472509 0.4424894 1.0000000\n\n-------------------------------\n```\n:::\n:::\n\n\n# Explore Probability Space\n\nWe can query the probabilistic space of the pbox object using the qpbox function. Below are examples of different types of queries.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Marginal Distribution\n\nqpbox(pbx, mj = \"Malaysia:33\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P \n0.9986981 \n```\n:::\n\n```{.r .cell-code}\n# Joint Distribution\n\nqpbox(pbx, mj = \"Malaysia:33 & Vietnam:34\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P \n0.9981121 \n```\n:::\n\n```{.r .cell-code}\n# Conditional Distribution\n\nqpbox(pbx, mj = \"Vietnam:31\", co = \"avgRegion:26\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n         P \n0.03647037 \n```\n:::\n\n```{.r .cell-code}\n#Conditional Distribution with Fixed Conditions\n\nqpbox(pbx, mj = \"Malaysia:33 & Vietnam:31\", co = \"avgRegion:26\", fixed = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       P \n0.976313 \n```\n:::\n\n```{.r .cell-code}\n#Joint Distribution with Mean Values\n\nqpbox(pbx, mj = \"mean:c(Vietnam, Thailand)\", lower.tail = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P \n0.3803387 \n```\n:::\n\n```{.r .cell-code}\n# Joint Distribution with Median Values\n\nqpbox(pbx, mj = \"median:c(Vietnam, Thailand)\", lower.tail = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P \n0.3597187 \n```\n:::\n\n```{.r .cell-code}\n# Joint Distribution with Specific Values\n\nqpbox(pbx, mj = \"Malaysia:33 & mean:c(Vietnam, Thailand)\", lower.tail = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P \n0.3803302 \n```\n:::\n\n```{.r .cell-code}\n# Conditional Distribution with Mean Conditions\n\nqpbox(pbx, mj = \"Malaysia:33 & median:c(Vietnam,Thailand)\", co = \"mean:c(avgRegion)\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P \n0.6329741 \n```\n:::\n:::\n\n\n# Confidence Intervals\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqpbox(pbx, mj = \"Malaysia:33 & median:c(Vietnam,Thailand)\", co = \"mean:c(avgRegion)\", CI = TRUE, fixed = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        P      2.5%     97.5% \n0.6557157 0.5605928 0.7577472 \n```\n:::\n:::\n\n\n# Grid Search\n\nWe can perform a grid search to explore the probabilistic space over a grid of values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrid_results <- grid_pbox(pbx, mj = c(\"Vietnam\", \"Malaysia\"))\nprint(grid_results)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     Vietnam Malaysia        probs\n       <num>    <num>       <list>\n  1:    30.9     30.5 0.0001462783\n  2:    31.2     30.5 0.0004897392\n  3:    31.3     30.5  0.000556562\n  4:    31.4     30.5 0.0005973167\n  5:    31.5     30.5 0.0006203644\n ---                              \n117:    31.7     32.3    0.6206133\n118:    31.8     32.3    0.6980325\n119:    32.0     32.3     0.813852\n120:    32.3     32.3    0.9109836\n121:    32.9     32.3    0.9727657\n```\n:::\n\n```{.r .cell-code}\nprint(grid_results[which.max(grid_results$probs),])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Vietnam Malaysia     probs\n     <num>    <num>    <list>\n1:    32.9     32.3 0.9727657\n```\n:::\n\n```{.r .cell-code}\nprint(grid_results[which.min(grid_results$probs),])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Vietnam Malaysia        probs\n     <num>    <num>       <list>\n1:    30.9     30.5 0.0001462783\n```\n:::\n:::\n\n\n# Scenario Analysis\n\nWe perform scenario analysis by modifying underlying parameters of the pbox object.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nscenario_results <- scenario_pbox(pbx, mj = \"Vietnam:31 & avgRegion:26\", param_list = list(Vietnam = \"mu\"))\nprint(scenario_results)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$`SD-3`\n         P \n0.09640711 \n\n$`SD-2`\n         P \n0.06788253 \n\n$`SD-1`\n         P \n0.04519266 \n\n$SD0\n         P \n0.02820379 \n\n$SD1\n         P \n0.01633734 \n\n$SD2\n          P \n0.008684461 \n\n$SD3\n          P \n0.004181092 \n```\n:::\n:::\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}